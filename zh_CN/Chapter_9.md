# 第九章 IP核安全和信任的验证

## 9.1 简介
&emsp;&emsp;硬件木马是插入到整体电路中的小型恶意组件。它们在电路运行的大部分时间内是闲置的，一旦触发将泄露有用的信息，从而改变了电路设计的功能并失去了电路可信度。硬件木马在结构上可以分为组合和时序两种，组合木马电路被部分内部信号或触发器的特定状态激活，而时序木马电路是一种小型有限状态机，它被特定的时序激活。每种硬件木马均包含触发电路（激活电路）和负载电路。触发电路负责产生特定状态以激活木马功能，负载电路负责将恶意行为传输至输出信号。  
&emsp;&emsp;目前有大量种类的木马电路，它们可能在流程中的不同阶段被嵌入至芯片中。比如在算法制定阶段改变时序特征，或者在电路设计阶段重用第三方提供的不可信的IP核，或者在芯片制造阶段改变掩模组（mask set）。然而相比制造阶段，硬件木马更有可能在电路设计阶段被嵌入至芯片。这是因为攻击者对电路设计有更好的理解并且可以在设计出在极少事件下的触发状态。  
&emsp;&emsp;目前很难构建一个故障模型来描述木马电路的行为模型。而且木马被设计成在极少状态下才会被激活，所以很难检测。结果就是现有的测试方法去检测硬件木马是不可行的。现在有多种电路运行阶段的补救方法（run-time remedies），包括关断后门触发电路，未使用部件识别，以及部分设计性能冲突的运行监控。  
&emsp;&emsp;对于从第三方供应商获取的硬件IP核主要关心的是它们可能被嵌入一些刻意恶意部分，包括一些不想要的功能，非正式的测试调试接口作为隐藏后门工作，以及其他集成问题。因此，为了识别不信任IP核的安全验证成为数字电路设计流程中非常严格的一部分。图9.1揭示了在SOC设计的不同阶段中都需要进行安全验证，以识别来自不信任第三方供应商提供的恶意功能。  
![图9.1](https://github.com/ZackPu/Hardware-IP-Security-and-Trust_zh_CN/blob/translate/Figure/fig9_1.png) 

